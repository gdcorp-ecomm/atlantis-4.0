<?xml version="1.0" encoding="utf-8" ?>
<RuleEngine>
  <Rules>
    <Rule id="ruleIsOrgValidForLegalType" desc="" chainable="True"  priority="2">
      <Condition>
        <![CDATA[ 
        FACT(factLegalType)=="CCO" OR 
        FACT(factLegalType)=="RES" OR
        FACT(factLegalType)=="GOV" OR
        FACT(factLegalType)=="EDU" OR
        FACT(factLegalType)=="ASS" ]]>
      </Condition>            
      <Actions Result="True">
        <Execute factId="ruleIsOrgNullOrEmpty" />
      </Actions>
    </Rule>
    <Rule id="ruleIsOrgNullOrEmpty" desc="" chainable="False"  priority="3">
      <Condition><![CDATA[ ISNULLOREMPTY(FACT(factOrg)) ]]></Condition>
      <Actions Result="True">
        <Evaluate factId="factOrgIsValid"><![CDATA[ false ]]></Evaluate>
      </Actions>
    </Rule>
  </Rules>
  <Facts>
    <Fact id="factOrg" desc="new value" type="string" modelId="mdlOrg">
      <xpath><![CDATA[ result/org/value ]]></xpath>
    </Fact>
    <Fact id="factOrgIsValid" desc="new value" type="boolean" modelId="mdlOrg">
      <xpath><![CDATA[ result/org/isvalid ]]></xpath>
    </Fact>
    <Fact id="factLegalType" desc="new value" type="string" modelId="mdlOrg">
      <xpath><![CDATA[ result/legaltype/value ]]></xpath>
    </Fact>
  </Facts>
</RuleEngine>
