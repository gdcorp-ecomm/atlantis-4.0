if(typeof(AtlantisCaptcha)=="undefined"){AtlantisCaptcha=function(){var g="click.captcha";var m="keypress.captcha";var p="captchaReload";var o="captchaPlaySound";var c="captchaAjaxValidate";var k="captchaLoading";var j="captchaLoaded";var h;var f="";var l="";var i="";var s="";var r=false;var q=false;var e=false;var d=false;var n=60000;var a=false;var b;var I;var M;var K;var t;this.Init=function(U,W,Y,X,V,Z,T,S,Q,R){h=this;f=U;l=W;s=Z;a=Q.toLowerCase()=="true";i=U+"_CaptchaImage";I=$("#"+i);M=$("#"+Y);K=$("#"+X);t=$("#"+V);t.bind(p,function(){h.ReloadImage()});t.bind(o,function(){h.PlaySound()});t.bind(c,function(){h.Validate()});e=T;d=S;K.bind(g,function(){h.PlaySound()});M.bind(g,function(){h.ReloadImage()});var P=I.attr("src").replace("get=image","get=validationResult");if(a){b=R;$(s).bind(g,function(){h.Validate(P)})}if(a){t.bind(m,function(aa){if(!aa){var aa=window.event}if(aa.keyCode){code=aa.keyCode}else{if(aa.which){code=aa.which}}if(code==13){h.Validate(P);return false}return true})}};this.ReloadImage=function(){if(I&&!q){var Q=$("#"+f+"_CaptchaImageDiv");q=true;A();var P=document.createElement("span");P.appendChild(document.createTextNode("loading..."));I.remove();Q.append(P);t.trigger(k);var R=O(I.attr("src"));var S=J(R);S.bind("load.captcha",function(){L(P);C()});Q.append(S);I=S;if(e){F()}if(d){u()}}};var J=function(Q){var P=$(document.createElement("img"));P.attr("id",I.attr("id"));P.attr("alt",I.attr("alt"));P.attr("src",Q);return P};var L=function(P){$(P).remove();q=false;t.trigger(j)};this.PlaySound=function(){N()};var N=function(){if(r){return}r=true;B();var T=$("#"+f+"_SoundLink").attr("href");T=O(T);T=z(T);var S=f+"_AudioPlaceholder";SoundPlaceholder=document.getElementById(S);SoundPlaceholder.innerHTML="";document.body.style.cursor="wait";var Q=false;var P=document.createElement("audio");if(!!(P.canPlayType)&&!!(P.canPlayType("audio/wav"))&&!w()){sound=new Audio(T);sound.id="LBD_CaptchaSoundAudio";sound.type="audio/mpeg";sound.autoplay=true;sound.controls=false;sound.autobuffer=false;sound.loop=false;SoundPlaceholder.appendChild(sound);Q=true}if(!Q){var R="<object id='LBD_CaptchaSoundObject' classid='clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95' height='0' width='0' style='width:0; height:0;'><param name='AutoStart' value='1' /><param name='Volume' value='0' /><param name='PlayCount' value='1' /><param name='FileName' value='"+T+"' /><embed id='LBD_CaptchaSoundEmbed' src='"+T+"' autoplay='true' hidden='true' volume='100' type='"+G()+"' style='display:inline;' /></object>";SoundPlaceholder.innerHTML=R}r=false;D();document.body.style.cursor="default"};this.Validate=function(R){var Q=t.val();var P=R+"&i="+Q;$.ajax({type:"get",dataType:"text",url:P,done:E,success:E})};var E=function(P){var Q=P.toLowerCase()=="true";if(!Q){h.ReloadImage()}if(b!=undefined){b(Q)}};this.OnHelpLinkClick=function(){};var F=function(){var P=t[0];if(!e||!P){return}P.focus()};var u=function(){var P=t[0];if(!d||!P){return}P.value=""};var O=function(Q){var P=Q.indexOf("&d=");if(-1!==P){Q=Q.substring(0,P)}return Q+"&d="+H()};var H=function(){var P=new Date();var Q=P.getTime()+(P.getTimezoneOffset()*n);return Q};var z=function(R){var P=R.indexOf("&e=");if(-1!==P){var Q=R.length;R=R.substring(0,P)+R.substring(P+4,Q)}if(document.location.protocol==="https:"){R=R+"&e=1"}return R};var G=function(){var P="audio/x-wav";return P};var w=function(){return v()||y()||x()};var v=function(){var P=false;if(navigator&&navigator.userAgent){var Q=navigator.userAgent.match(/(Firefox)\/(3\.6\.[^;\+,\/\s]+)/);if(Q){P=true}}return P};var y=function(){var P=false;if(navigator&&navigator.userAgent){var Q=navigator.userAgent.match(/Safari/);if(Q){Q=navigator.userAgent.match(/Chrome/);if(!Q&&document.location.protocol==="https:"){P=true}}}return P};var x=function(){var P=false;if(navigator&&navigator.userAgent){var Q=navigator.userAgent.match(/Safari/);if(Q){Q=navigator.userAgent.match(/Chrome/);if(!Q&&navigator.userAgent.match(/Macintosh/)){P=true}}}return P};var A=function(){M.unbind(g)};var C=function(){M.bind(g,function(){h.ReloadImage()})};var B=function(){K.unbind(g)};var D=function(){K.bind(g,function(){h.PlaySound()})}}};